<html>

  <head>
    <title>Software-Subject-Recommendation-Site</title>
    <link rel="stylesheet" href="./css/noLogin_recom.css">
    <script src = "main.js"></script>

    
  </head>


  <body>

    <div id="top">
      <a id="changeOrder" href="noLogin_recom_pre.html">
        <img id="changeOrder_img" src="./img/change_order.png"/>
      </a>
    </div>

    <br/>
    <br/>

    <div id="left">
      <div id="cellTitle">
        Preceded
      </div>

      <div id="cellContents">
        <div id="subject_btn_div">
          <input type="button" id="selectPreceded_btn" name = "sb"value = "프로그래밍기초와실습" onclick="selectSubject(0)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨터개론" onclick="selectSubject(1)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "공학컴퓨터프로그래밍" onclick="selectSubject(2)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "자료구조개론" onclick="selectSubject(3)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "문제해결" onclick="selectSubject(4)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "시스템프로그램" onclick="selectSubject(5)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "오픈소스SW실습" onclick="selectSubject(6)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "알고리즘개론" onclick="selectSubject(7)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "JAVA프로그래밍실습" onclick="selectSubject(8)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨터구조개론" onclick="selectSubject(9)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "시스템프로그래밍실습" onclick="selectSubject(10)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "소프트웨어세미나" onclick="selectSubject(11)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨터공학세미나" onclick="selectSubject(12)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "프로그래밍언어" onclick="selectSubject(13)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "데이터베이스개론" onclick="selectSubject(14)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "운영체제" onclick="selectSubject(15)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "확률과랜덤프로세스" onclick="selectSubject(16)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "모바일앱프로그래밍실습" onclick="selectSubject(17)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "소프트웨어공학개론" onclick="selectSubject(18)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "인공지능개론" onclick="selectSubject(19)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨터네트웍개론" onclick="selectSubject(20)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "정보보호개론" onclick="selectSubject(21)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "웹프로그래밍실습" onclick="selectSubject(22)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "소프트웨어특강1" onclick="selectSubject(23)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨그래픽스개론" onclick="selectSubject(24)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "기계학습원론" onclick="selectSubject(25)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "임베디드소프트웨어개론" onclick="selectSubject(26)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "빅데이터분석방법론" onclick="selectSubject(27)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "HCI개론" onclick="selectSubject(28)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "심층신경망개론" onclick="selectSubject(29)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "네트워크프로젝트" onclick="selectSubject(30)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "인공지능프로젝트" onclick="selectSubject(31)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "가상현실론" onclick="selectSubject(32)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "네트워크인공지능" onclick="selectSubject(33)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "소프트웨어구조설개론" onclick="selectSubject(34)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴파일러와언어개론" onclick="selectSubject(35)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "블록체인과스마트컨트랙트" onclick="selectSubject(36)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "소프트웨어특강2" onclick="selectSubject(37)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "시스템시뮬레이션개론" onclick="selectSubject(38)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "컴퓨터비전개론" onclick="selectSubject(39)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "멀티코어컴퓨팅" onclick="selectSubject(40)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "AI캡스톤디자인" onclick="selectSubject(41)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "인터넷서비스와정보보호" onclick="selectSubject(42)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "캡스톤설계프로젝트" onclick="selectSubject(43)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "임베디드시스템프로젝트" onclick="selectSubject(44)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "데이터베이스프로젝트" onclick="selectSubject(45)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "고급컴퓨터네트워크설계" onclick="selectSubject(46)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "분산컴퓨팅원론" onclick="selectSubject(47)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "정보시각화" onclick="selectSubject(48)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "인공지능보안" onclick="selectSubject(49)"></button>
          <input type="button" id="selectPreceded_btn" name = "sb"value = "시스템보안특론" onclick="selectSubject(50)"></button>
          </div>
      </div>
    </div>

    <div id="right">
      <div id="cellTitle">
        Recommendation
      </div>

      
      <div id="cellContents">
        <input type="button" id="subject_div" name = "rc"value = "프로그래밍기초와실습" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨터개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "공학컴퓨터프로그래밍" ></button>
        <input type="button" id="subject_div" name = "rc"value = "자료구조개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "문제해결" ></button>
        <input type="button" id="subject_div" name = "rc"value = "시스템프로그램" ></button>
        <input type="button" id="subject_div" name = "rc"value = "오픈소스SW실습"></button>
        <input type="button" id="subject_div" name = "rc"value = "알고리즘개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "JAVA프로그래밍실습" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨터구조개론"></button>
        <input type="button" id="subject_div" name = "rc"value = "시스템프로그래밍실습" ></button>
        <input type="button" id="subject_div" name = "rc"value = "소프트웨어세미나" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨터공학세미나" ></button>
        <input type="button" id="subject_div" name = "rc"value = "프로그래밍언어" ></button>
        <input type="button" id="subject_div" name = "rc"value = "데이터베이스개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "운영체제" ></button>
        <input type="button" id="subject_div" name = "rc"value = "확률과랜덤프로세스"></button>
        <input type="button" id="subject_div" name = "rc"value = "모바일앱프로그래밍실습" ></button>
        <input type="button" id="subject_div" name = "rc"value = "소프트웨어공학개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "인공지능개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨터네트웍개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "정보보호개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "웹프로그래밍실습" ></button>
        <input type="button" id="subject_div" name = "rc"value = "소프트웨어특강1" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨그래픽스개론"></button>
        <input type="button" id="subject_div" name = "rc"value = "기계학습원론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "임베디드소프트웨어개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "빅데이터분석방법론"></button>
        <input type="button" id="subject_div" name = "rc"value = "HCI개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "심층신경망개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "네트워크프로젝트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "인공지능프로젝트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "가상현실론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "네트워크인공지능" ></button>
        <input type="button" id="subject_div" name = "rc"value = "소프트웨어구조설개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴파일러와언어개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "블록체인과스마트컨트랙트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "소프트웨어특강2" ></button>
        <input type="button" id="subject_div" name = "rc"value = "시스템시뮬레이션개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "컴퓨터비전개론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "멀티코어컴퓨팅" ></button>
        <input type="button" id="subject_div" name = "rc"value = "AI캡스톤디자인" ></button>
        <input type="button" id="subject_div" name = "rc"value = "인터넷서비스와정보보호" ></button>
        <input type="button" id="subject_div" name = "rc"value = "캡스톤설계프로젝트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "임베디드시스템프로젝트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "데이터베이스프로젝트" ></button>
        <input type="button" id="subject_div" name = "rc"value = "고급컴퓨터네트워크설계" ></button>
        <input type="button" id="subject_div" name = "rc"value = "분산컴퓨팅원론" ></button>
        <input type="button" id="subject_div" name = "rc"value = "정보시각화" ></button>
        <input type="button" id="subject_div" name = "rc"value = "인공지능보안" ></button>
        <input type="button" id="subject_div" name = "rc"value = "시스템보안특론" ></button>
      </div>
    </div>


    <script>
      //NoLogin의 모든 정보 0으로
    let sub1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    
      //button 색 가져오기
    var subject = document.getElementsByName("sb");
    var recommend = document.getElementsByName("rc");
    
    function getColor(clicked_value){
      if(sub1[clicked_value] === 0 || sub1[clicked_value] === 1)              //미수강 상태인 경우 흰색
      subject[clicked_value].style.backgroundColor = 'white';
      else if(sub1[clicked_value] === 2)                      //수강 상태인 경우 회색
      subject[clicked_value].style.backgroundColor = "gray";
    }

    function recommendcolor(){
      for(let i=0; i<51; i++){
        if(sub1[i] === 0 || sub1[i] === 2)
          recommend[i].style.backgroundColor = "white";
        else if(sub1[i] === 1)
          recommend[i].style.backgroundColor = "black";
      }
    }

    function updatingtxt(){
    let count=0;
    //총 수강과목 수 세기
    let txt = sub1.toString();
    console.log(txt);
    for(let i = 0;i<51;i++){
      if(sub1[i]==='2'){ count+=1;}
    }
    //console.log("변경 전 txt 스트링 내용 : "+txt);
    //만약 과목 i가 수강되었을 때, 만약 비수강으로 되어있다면 수강 과목수를 고려하여 추천으로 변경한다.
    for(let i = 0;i<51;i++){
      if(sub1[i]==='2'){
        for(let j = 0; j < adjacencyList[i].length ; j++){
          if(txt[adjacencyList[i][j]]==='0'){
            if(weighttorf(count,j)){
            //txt[j]를 1로 변경!
            //console.log(adjacencyList[i][j]+"번 과목을 추천 과목으로 변경!(0 -> 1)");
            txt=changestring(txt,adjacencyList[i][j],1);
            }
          }
        }
      } 
    }
    console.log(txt);
    //return txt;
  
    // showRec1() //갱신된 정보를 바탕으로 웹 페이지 목록 갱신
    }



    function selectSubject(clicked_value) {
      //숫자코드 변화
        if(sub1[clicked_value] === 0 || sub1[clicked_value] === 1)
        sub1[clicked_value] = 2;
        else if(sub1[clicked_value]===2)
        sub1[clicked_value] = 0;



      //색 변경
      getColor(clicked_value);
      updatingtxt();
      
      recommendcolor();

}

    


    </script>
  </body>

</html>
